<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>Blog Title</title><link>https://seraphenix.github.io</link><description>Blog description</description><copyright>Blog Title</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://github.githubassets.com/favicons/favicon.svg</url><title>avatar</title><link>https://seraphenix.github.io</link></image><lastBuildDate>Thu, 10 Oct 2024 04:36:12 +0000</lastBuildDate><managingEditor>Blog Title</managingEditor><ttl>60</ttl><webMaster>Blog Title</webMaster><item><title>MemSwap: update log on Oct. 10, 2024</title><link>https://seraphenix.github.io/post/MemSwap-%20update%20log%20on%20Oct.%2010%2C%202024.html</link><description>Recent updates on MemSwap experiment code, including fixing issues, adding a break point and adding a new display setup.&#13;
&#13;
# Update 1: EEG trigger code error fixed&#13;
In MemSwap_Display.m line 78 (line numbers may vary):&#13;
```matlab&#13;
{&#13;
    E = MemSwap_EEG(2,20+R.types(trial),E); % Signal: Fixation end&#13;
}&#13;
```&#13;
&#13;
I made a mistake on the trigger code, now it's fixed. In the new version of MemSwap_Display.m, line 81&#13;
```matlab&#13;
{&#13;
    E = MemSwap_EEG(2,20+R.tarLoca(trial),E); % Signal: Fixation &#13;
}&#13;
```&#13;
This is the correct version.&#13;
&#13;
# Update 2: New desktop setup&#13;
In MemSwap_Option, I have listed two display setup:&#13;
```matlab&#13;
{&#13;
    O.monitorType = 'Laptop';&#13;
    % O.monitorType = 'Desktop';&#13;
}&#13;
```&#13;
Please refer to [this article](https://seraphenix.github.io/post/MemSwap-%20new%20monitor%20setup.html) for details about how to add new display setup.&#13;
Now a third setup is added into the code, called 'DesktopHKU' (letter capitalization does not matter). As its name indicates, it is designed for the monitor in Hong Kong University Shenzhen Hospital. The original 'Desktop', is for Shenzhen University General Hospital.&#13;
&#13;
# Update 3: Break the experiment into two sessions&#13;
Due to the reports of overtime experiment length among observers, now the experiment will be break into two parts.&#13;
In new version of MemSwap_Main.m, line 50:&#13;
```matlab&#13;
{&#13;
    if ii == O.sessionBreak &amp;&amp; R.lastTrial~=O.sessionBreak&#13;
        D.quitControl = 1;&#13;
    end&#13;
}&#13;
```&#13;
&#13;
Before the change, the experiment will set a break time every 100 trials, letting the observers take a rest. Now, when it reaches 500th (the number could be modifed in Option) trial for the first time, the experiment will automatically quit.&#13;
。</description><guid isPermaLink="true">https://seraphenix.github.io/post/MemSwap-%20update%20log%20on%20Oct.%2010%2C%202024.html</guid><pubDate>Thu, 10 Oct 2024 04:35:51 +0000</pubDate></item><item><title>Update log</title><link>https://seraphenix.github.io/post/Update%20log.html</link><description>Just some words to meet the activity requirements. 。</description><guid isPermaLink="true">https://seraphenix.github.io/post/Update%20log.html</guid><pubDate>Sun, 06 Oct 2024 09:19:21 +0000</pubDate></item><item><title>MemSwap: new monitor setup</title><link>https://seraphenix.github.io/post/MemSwap-%20new%20monitor%20setup.html</link><description># How to deal with a totally new monitor size?&#13;
## 1 Confirm your new setup&#13;
In **MemSwap_Screen.m** line 28&#13;
```matlab&#13;
{&#13;
    if strcmpi(O.monitorType,'laptop')&#13;
        width  = 310;% mm&#13;
        height = 174;&#13;
        viewdist = 58;              % viewing distance in cm&#13;
    elseif strcmpi(O.monitorType,'desktop')&#13;
        % Depends on the device&#13;
        width  = 530;% mm&#13;
        height = 298;&#13;
        viewdist = 60;              % viewing distance in cm&#13;
        % WARNING: viewing distance not determined&#13;
    end&#13;
}&#13;
```&#13;
&#13;
I have listed all the require measurement in real-life. Please update your new setup with a new `elseif`, e.g.&#13;
```matlab&#13;
{&#13;
    if strcmpi(O.monitorType,'laptop')&#13;
        width  = 310;% mm&#13;
        height = 174;&#13;
        viewdist = 58;              % viewing distance in cm&#13;
    elseif strcmpi(O.monitorType,'desktop')&#13;
        % Depends on the device&#13;
        width  = 530;% mm&#13;
        height = 298;&#13;
        viewdist = 60;              % viewing distance in cm&#13;
        % WARNING: viewing distance not determined&#13;
    elseif strcmpi(O.monitorType,'desktop2')&#13;
        width  = 610;% mm&#13;
        height = 340;&#13;
        viewdist = 60;              % viewing distance in cm&#13;
    end&#13;
}&#13;
```&#13;
&#13;
After the change, you could run the following code in the MATLAB to see what the essential parameters are in the new setup:&#13;
```matlab&#13;
{&#13;
    width  = 610;% mm&#13;
    height = 340;&#13;
    viewdist = 60;              % viewing distance in cm&#13;
    cm2deg   = 2*atan(1/(2*viewdist))*180/pi;&#13;
    deg2cm   = 1/cm2deg;           % deg by cm&#13;
    pix2cm   = width/(widthpx*10); % length of a pix (cm) H size of my screen / H definition of my screen&#13;
    cm2pix   = 1/pix2cm;           % pixels in 1 cm (dpc)&#13;
    pix2deg  = pix2cm*cm2deg;      % angle of a pix (deg)&#13;
    deg2pix  = 1/pix2deg;          % pixels in 1 deg (dpg)&#13;
}&#13;
```&#13;
Get the `deg2pix`, we will use that later.&#13;
&#13;
## 2 Make a new color ring picture&#13;
The radius of the color ring is **8 degrees**.&#13;
The width of the ring is **2 degrees**.&#13;
So calculate the new image size with `deg2pix*8*2` and `deg2pix*2`.&#13;
&#13;
Then open **MemSwap_MakeRing.m** line 10&#13;
```matlab&#13;
{&#13;
    if strcmpi(displaySetup,'desktop')&#13;
        % Image size&#13;
        % Display-base information&#13;
        % Original setup, roughly based on a 24-inch display, 1080p and 60 cm viewing distance&#13;
        imSize = 600;&#13;
        ringRadOut = imSize/2;&#13;
        ringRadInn = imSize/2 - 75;&#13;
    elseif strcmpi(displaySetup,'laptop')&#13;
        % Laptop setup, 14-inch display, 1080p and 58 cm viewing distance&#13;
        imSize = 1000;&#13;
        ringRadOut = imSize/2;&#13;
        ringRadInn = imSize/2 - 130;&#13;
    end&#13;
}&#13;
```&#13;
&#13;
Again, make a new setup with `elseif`.&#13;
I have already calculated `deg2pix*8*2` under the new setup, it's around 610. `deg2pix*2` is 66.&#13;
&#13;
```matlab&#13;
{&#13;
    if strcmpi(displaySetup,'desktop')&#13;
        % Image size&#13;
        % Display-base information&#13;
        % Original setup, roughly based on a 24-inch display, 1080p and 60 cm viewing distance&#13;
        imSize = 600;&#13;
        ringRadOut = imSize/2;&#13;
        ringRadInn = imSize/2 - 75;&#13;
    elseif strcmpi(displaySetup,'laptop')&#13;
        % Laptop setup, 14-inch display, 1080p and 58 cm viewing distance&#13;
        imSize = 1000;&#13;
        ringRadOut = imSize/2;&#13;
        ringRadInn = imSize/2 - 130;&#13;
    elseif strcmpi(displaySetup,'desktop2')&#13;
        imSize = 610;&#13;
        ringRadOut = imSize/2;&#13;
        ringRadInn = imSize/2 - 66;&#13;
    end&#13;
}&#13;
```&#13;
Change the first line to the new setup name:&#13;
`displaySetup = 'desktop2';`&#13;
Then run the script **MemSwap_MakeRing.m**.&#13;
&#13;
It will generate a new image file under the working directory. **colorRing_LAB_linear-rgb239To305.png**, in my case.&#13;
&#13;
## 3 Switch the ring picture back to the code&#13;
Open **MemSwap_TrialSetup.m** line 21&#13;
```matlab&#13;
{&#13;
    if strcmpi(O.monitorType,'laptop')&#13;
        ringFile = ['colorRing_',O.colorSpace,'370To500.png'];&#13;
    elseif strcmpi(O.monitorType,'desktop')&#13;
        % However, for convience, the color ring is a pre-made 500-by-500 PNG image, made by 'MakeRing' script&#13;
        ringFile = ['colorRing_',O.colorSpace,'225To300.png'];&#13;
    end&#13;
}&#13;
```&#13;
Again, add the new setup:&#13;
```matlab&#13;
{&#13;
    if strcmpi(O.monitorType,'laptop')&#13;
        ringFile = ['colorRing_',O.colorSpace,'370To500.png'];&#13;
    elseif strcmpi(O.monitorType,'desktop')&#13;
        % However, for convience, the color ring is a pre-made 500-by-500 PNG image, made by 'MakeRing' script&#13;
        ringFile = ['colorRing_',O.colorSpace,'225To300.png'];&#13;
    elseif strcmpi(O.monitorType,'desktop2')&#13;
        ringFile = ['colorRing_',O.colorSpace,'239To305.png'];&#13;
    end&#13;
}&#13;
```&#13;
It should be OK to go.&#13;
&#13;
## Future&#13;
Perhaps I will automate the image generation steps that we do not need to change it manually?&#13;
&#13;
&#13;
。</description><guid isPermaLink="true">https://seraphenix.github.io/post/MemSwap-%20new%20monitor%20setup.html</guid><pubDate>Tue, 13 Aug 2024 05:33:38 +0000</pubDate></item></channel></rss>