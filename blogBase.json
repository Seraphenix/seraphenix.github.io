{"singlePage": [], "startSite": "", "filingNum": "", "onePageListNum": 15, "commentLabelColor": "#006b75", "yearColorList": ["#bc4c00", "#0969da", "#1f883d", "#A333D0"], "i18n": "CN", "themeMode": "manual", "dayTheme": "light", "nightTheme": "dark", "urlMode": "pinyin", "script": "", "style": "", "head": "", "indexScript": "", "indexStyle": "", "bottomText": "", "showPostSource": 1, "iconList": {}, "UTC": 8, "rssSplit": "sentence", "exlink": {}, "needComment": 1, "allHead": "", "title": "Blog Title", "subTitle": "Blog description", "avatarUrl": "https://github.githubassets.com/favicons/favicon.svg", "GMEEK_VERSION": "last", "postListJson": {"P1": {"htmlDir": "docs/post/MemSwap- new monitor setup.html", "labels": ["documentation"], "postTitle": "MemSwap: new monitor setup", "postUrl": "post/MemSwap-%20new%20monitor%20setup.html", "postSourceUrl": "https://github.com/Seraphenix/seraphenix.github.io/issues/1", "commentNum": 0, "wordCount": 4796, "description": "# How to deal with a totally new monitor size?\r\n## 1 Confirm your new setup\r\nIn **MemSwap_Screen.m** line 28\r\n```matlab\r\n{\r\n    if strcmpi(O.monitorType,'laptop')\r\n        width  = 310;% mm\r\n        height = 174;\r\n        viewdist = 58;              % viewing distance in cm\r\n    elseif strcmpi(O.monitorType,'desktop')\r\n        % Depends on the device\r\n        width  = 530;% mm\r\n        height = 298;\r\n        viewdist = 60;              % viewing distance in cm\r\n        % WARNING: viewing distance not determined\r\n    end\r\n}\r\n```\r\n\r\nI have listed all the require measurement in real-life. Please update your new setup with a new `elseif`, e.g.\r\n```matlab\r\n{\r\n    if strcmpi(O.monitorType,'laptop')\r\n        width  = 310;% mm\r\n        height = 174;\r\n        viewdist = 58;              % viewing distance in cm\r\n    elseif strcmpi(O.monitorType,'desktop')\r\n        % Depends on the device\r\n        width  = 530;% mm\r\n        height = 298;\r\n        viewdist = 60;              % viewing distance in cm\r\n        % WARNING: viewing distance not determined\r\n    elseif strcmpi(O.monitorType,'desktop2')\r\n        width  = 610;% mm\r\n        height = 340;\r\n        viewdist = 60;              % viewing distance in cm\r\n    end\r\n}\r\n```\r\n\r\nAfter the change, you could run the following code in the MATLAB to see what the essential parameters are in the new setup:\r\n```matlab\r\n{\r\n    width  = 610;% mm\r\n    height = 340;\r\n    viewdist = 60;              % viewing distance in cm\r\n    cm2deg   = 2*atan(1/(2*viewdist))*180/pi;\r\n    deg2cm   = 1/cm2deg;           % deg by cm\r\n    pix2cm   = width/(widthpx*10); % length of a pix (cm) H size of my screen / H definition of my screen\r\n    cm2pix   = 1/pix2cm;           % pixels in 1 cm (dpc)\r\n    pix2deg  = pix2cm*cm2deg;      % angle of a pix (deg)\r\n    deg2pix  = 1/pix2deg;          % pixels in 1 deg (dpg)\r\n}\r\n```\r\nGet the `deg2pix`, we will use that later.\r\n\r\n## 2 Make a new color ring picture\r\nThe radius of the color ring is **8 degrees**.\r\nThe width of the ring is **2 degrees**.\r\nSo calculate the new image size with `deg2pix*8*2` and `deg2pix*2`.\r\n\r\nThen open **MemSwap_MakeRing.m** line 10\r\n```matlab\r\n{\r\n    if strcmpi(displaySetup,'desktop')\r\n        % Image size\r\n        % Display-base information\r\n        % Original setup, roughly based on a 24-inch display, 1080p and 60 cm viewing distance\r\n        imSize = 600;\r\n        ringRadOut = imSize/2;\r\n        ringRadInn = imSize/2 - 75;\r\n    elseif strcmpi(displaySetup,'laptop')\r\n        % Laptop setup, 14-inch display, 1080p and 58 cm viewing distance\r\n        imSize = 1000;\r\n        ringRadOut = imSize/2;\r\n        ringRadInn = imSize/2 - 130;\r\n    end\r\n}\r\n```\r\n\r\nAgain, make a new setup with `elseif`.\r\nI have already calculated `deg2pix*8*2` under the new setup, it's around 610. `deg2pix*2` is 66.\r\n\r\n```matlab\r\n{\r\n    if strcmpi(displaySetup,'desktop')\r\n        % Image size\r\n        % Display-base information\r\n        % Original setup, roughly based on a 24-inch display, 1080p and 60 cm viewing distance\r\n        imSize = 600;\r\n        ringRadOut = imSize/2;\r\n        ringRadInn = imSize/2 - 75;\r\n    elseif strcmpi(displaySetup,'laptop')\r\n        % Laptop setup, 14-inch display, 1080p and 58 cm viewing distance\r\n        imSize = 1000;\r\n        ringRadOut = imSize/2;\r\n        ringRadInn = imSize/2 - 130;\r\n    elseif strcmpi(displaySetup,'desktop2')\r\n        imSize = 610;\r\n        ringRadOut = imSize/2;\r\n        ringRadInn = imSize/2 - 66;\r\n    end\r\n}\r\n```\r\nChange the first line to the new setup name:\r\n`displaySetup = 'desktop2';`\r\nThen run the script **MemSwap_MakeRing.m**.\r\n\r\nIt will generate a new image file under the working directory. **colorRing_LAB_linear-rgb239To305.png**, in my case.\r\n\r\n## 3 Switch the ring picture back to the code\r\nOpen **MemSwap_TrialSetup.m** line 21\r\n```matlab\r\n{\r\n    if strcmpi(O.monitorType,'laptop')\r\n        ringFile = ['colorRing_',O.colorSpace,'370To500.png'];\r\n    elseif strcmpi(O.monitorType,'desktop')\r\n        % However, for convience, the color ring is a pre-made 500-by-500 PNG image, made by 'MakeRing' script\r\n        ringFile = ['colorRing_',O.colorSpace,'225To300.png'];\r\n    end\r\n}\r\n```\r\nAgain, add the new setup:\r\n```matlab\r\n{\r\n    if strcmpi(O.monitorType,'laptop')\r\n        ringFile = ['colorRing_',O.colorSpace,'370To500.png'];\r\n    elseif strcmpi(O.monitorType,'desktop')\r\n        % However, for convience, the color ring is a pre-made 500-by-500 PNG image, made by 'MakeRing' script\r\n        ringFile = ['colorRing_',O.colorSpace,'225To300.png'];\r\n    elseif strcmpi(O.monitorType,'desktop2')\r\n        ringFile = ['colorRing_',O.colorSpace,'239To305.png'];\r\n    end\r\n}\r\n```\r\nIt should be OK to go.\r\n\r\n## Future\r\nPerhaps I will automate the image generation steps that we do not need to change it manually?\r\n\r\n\r\n\u3002", "top": 0, "createdAt": 1723527218, "style": "", "script": "", "head": "", "ogImage": "https://github.githubassets.com/favicons/favicon.svg", "createdDate": "2024-08-13", "dateLabelColor": "#bc4c00"}, "P2": {"htmlDir": "docs/post/Update log.html", "labels": ["documentation"], "postTitle": "Update log", "postUrl": "post/Update%20log.html", "postSourceUrl": "https://github.com/Seraphenix/seraphenix.github.io/issues/2", "commentNum": 0, "wordCount": 51, "description": "Just some words to meet the activity requirements. \u3002", "top": 0, "createdAt": 1728206361, "style": "", "script": "", "head": "", "ogImage": "https://github.githubassets.com/favicons/favicon.svg", "createdDate": "2024-10-06", "dateLabelColor": "#bc4c00"}}, "singeListJson": {}, "labelColorDict": {"bug": "#d73a4a", "documentation": "#0075ca", "duplicate": "#cfd3d7", "enhancement": "#a2eeef", "good first issue": "#7057ff", "help wanted": "#008672", "invalid": "#e4e669", "question": "#d876e3", "wontfix": "#ffffff"}, "displayTitle": "Blog Title", "faviconUrl": "https://github.githubassets.com/favicons/favicon.svg", "ogImage": "https://github.githubassets.com/favicons/favicon.svg", "primerCSS": "<link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />", "homeUrl": "https://seraphenix.github.io", "prevUrl": "disabled", "nextUrl": "disabled"}